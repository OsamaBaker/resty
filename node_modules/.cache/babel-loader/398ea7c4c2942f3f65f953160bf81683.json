{"ast":null,"code":"var _jsxFileName = \"/home/osamabaker/asac/resty/src/app.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport './app.scss';\nimport History from '../src/components/History'; // Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\n\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\"; //https://pokeapi.co/api/v2/pokemon\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = [];\n\nfunction historyReducer(history = initialState, action) {\n  console.log(\"action......\", action);\n  console.log(\"state =\", history);\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case 'ADD_HISTORY':\n      history = [...history, payload]; // return the new state\n\n      return history;\n    // case 'EMPTY_PEOPLE':\n    //     return state;\n\n    default:\n      return history;\n  }\n}\n\nfunction addHistory(url, method, result) {\n  console.log(\"inside addHistory, url : \", url);\n  return {\n    type: 'ADD_HISTORY',\n    payload: {\n      url,\n      method,\n      result\n    }\n  };\n}\n\nfunction App() {\n  _s();\n\n  // const [post, setPost] = useState(null);\n  const [history, dispatch] = useReducer(historyReducer, initialState); // Hooks : functional compoenents\n\n  const [stateData, setData] = useState({\n    data: null\n  });\n  const [requestParams, setRequestParams] = useState({});\n  const [load, setLoad] = useState(false);\n  const [body, setBody] = useState({});\n  useEffect(() => {\n    setData(null);\n\n    async function fetchData() {\n      if (body) {\n        const result = await axios[requestParams.method](requestParams.url, JSON.parse(body));\n        const data = {\n          headers: result.headers,\n          count: result.data.count,\n          results: result.data.results\n        };\n        setData(data);\n        dispatch(addHistory(requestParams.url, requestParams.method, data));\n      } else {\n        const result = await axios[requestParams.method](requestParams.url);\n        const data = {\n          headers: result.headers,\n          count: result.data.count,\n          results: result.data.results\n        };\n        setData(data);\n        dispatch(addHistory(requestParams.url, requestParams.method, data));\n      }\n    }\n\n    fetchData();\n  }, [requestParams, body]);\n\n  async function callApi(requestParams, body) {\n    setRequestParams(requestParams);\n    setBody(body);\n    setLoad(true);\n  }\n\n  function historyFunction(result) {\n    setData(result);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Request Method: \", requestParams.method]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", requestParams.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleApiCall: callApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), history && /*#__PURE__*/_jsxDEV(History, {\n      historyFunction: historyFunction,\n      history: history\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }, this), load && /*#__PURE__*/_jsxDEV(Loader, {\n      type: \"Puff\",\n      color: \"#00BFFF\",\n      height: 100,\n      width: 100,\n      timeout: 3000 //3 secs\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Results, {\n      data: stateData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"4/PC9opcyZev0fNToZ74/BDilIo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/osamabaker/asac/resty/src/app.js"],"names":["React","useState","useEffect","useReducer","axios","History","Header","Footer","Form","Results","Loader","initialState","historyReducer","history","action","console","log","type","payload","addHistory","url","method","result","App","dispatch","stateData","setData","data","requestParams","setRequestParams","load","setLoad","body","setBody","fetchData","JSON","parse","headers","count","results","callApi","historyFunction"],"mappings":"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","sourcesContent":["import React from 'react';\nimport  { useState, useEffect, useReducer  } from 'react';\nimport axios from 'axios'\nimport './app.scss';\nimport History from '../src/components/History'\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Form from './components/form';\nimport Results from './components/results';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Loader from \"react-loader-spinner\";\n\n\n\n\n\n//https://pokeapi.co/api/v2/pokemon\n\n\nconst initialState =  [];\n\n\nfunction historyReducer(history = initialState, action) {\n  console.log(\"action......\", action)\n  console.log(\"state =\", history)\n  const {type, payload} = action;\n  switch(type) {\n      case 'ADD_HISTORY':\n           history = [...history, payload];\n          // return the new state\n          return history;\n      // case 'EMPTY_PEOPLE':\n      //     return state;\n      default:\n          return history;\n  }\n}\n\n\nfunction addHistory (url, method, result) {\n  console.log(\"inside addHistory, url : \", url);\n  return {\n      type: 'ADD_HISTORY',\n      payload: {\n        url,\n        method,\n        result\n      }\n  }\n}\n\n\n\n\nfunction App() {\n\n  // const [post, setPost] = useState(null);\n  const [history, dispatch] = useReducer(historyReducer, initialState);\n\n\n  // Hooks : functional compoenents\n  const [stateData, setData] = useState({data: null});\n  const [requestParams, setRequestParams] = useState({});\n  const [load, setLoad] = useState(false);\n\n\n  const [body, setBody] = useState({});\n\n  useEffect( () => {\n    setData(null);\n    async function fetchData() {\n    if (body) {\n      const result = await axios[requestParams.method](requestParams.url, JSON.parse(body));\n      const data = { headers: result.headers, count: result.data.count, results: result.data.results }\n      setData(data);\n      dispatch(addHistory(requestParams.url,requestParams.method,data));\n    \n\n    } else {\n      const result = await axios[requestParams.method](requestParams.url);\n      const data = { headers: result.headers, count: result.data.count, results: result.data.results }\n      setData(data);\n      dispatch(addHistory(requestParams.url,requestParams.method,data));\n\n \n    }}\n    fetchData()\n  }, [requestParams,body]);\n  \n \n\n  \n\n  async function callApi(requestParams, body) {\n\n      setRequestParams(requestParams);\n      setBody(body);\n      setLoad(true)\n  \n  }\n  \n\n  function historyFunction(result) {\n    setData(result);\n   \n  }\n\n \n  return (\n    \n\n      <React.Fragment>\n      <Header />\n      \n   \n      <div>Request Method: {requestParams.method}</div>\n      <div>URL: {requestParams.url}</div>\n      <Form handleApiCall={callApi}  />\n     \n      {history && <History historyFunction={historyFunction} history={history} />}\n\n      {load &&  <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />}\n       <Results data={stateData} />\n      <Footer />\n    </React.Fragment>\n  )\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}